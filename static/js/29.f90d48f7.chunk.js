"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[29],{29:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var c=n(169),a=(n(252),n(813));const s=e=>{var t;const n="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===n.length?decodeURIComponent((null===(t=n.pop())||void 0===t?void 0:t.split(";").shift())||""):null},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;const c=new Date(Date.now()+864e5*n).toUTCString();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(c,"; path=/")},o=()=>{const[e,t]=(0,c.useState)([]),n=["Merch","Music","Tickets"];(0,c.useEffect)((()=>{const e=s("cartitems");if(e&&"null"!==e){const c=e.split(","),a={};c.forEach((e=>{const t=e.match(/^([A-Za-z]+)(\d+)(?:_(.+?))?(?:_([A-Za-z]+))?$/);if(t){const e=t[1],n=parseInt(t[2],10),c=t[3]?t[3].replace(/_/g," "):void 0,s=t[4]?t[4]:void 0,i=s?"".concat(e,"_").concat(s):e;a[i]?a[i].quantity+=n:a[i]={name:e,quantity:n,venue:c,size:s}}}));const s=Object.values(a).map((e=>({name:e.name.charAt(0).toUpperCase()+e.name.slice(1).toLowerCase(),quantity:e.quantity,venue:e.venue,size:e.size}))).filter((e=>n.includes(e.name)));t(s)}}),[]);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{id:"cart-content",children:0===e.length?(0,a.jsx)("p",{children:"You have no items in your cart."}):(0,a.jsx)("div",{className:"cart-items",children:e.map(((n,c)=>(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsx)("img",{src:"merch"===n.name.toLowerCase()?"/Images/stagefrightmerch.webp":"tickets"===n.name.toLowerCase()?"/Images/ticket.webp":"",alt:"".concat(n.name," Image"),className:"cart-item-image"}),(0,a.jsxs)("div",{className:"cart-item-details",children:[(0,a.jsx)("span",{className:"item-name",children:n.name}),n.venue&&(0,a.jsx)("span",{className:"item-venue",children:n.venue}),n.size&&(0,a.jsxs)("span",{className:"item-size",children:["Size: ",n.size]})," ",(0,a.jsxs)("div",{className:"quantity-controls",children:[(0,a.jsx)("button",{className:"decrease-button",onClick:()=>(n=>{const c=e[n];if(c.quantity>1){const e=c.quantity-1;t((t=>{const c=[...t];return c[n].quantity=e,c}));const a=s("cartitems");if(a){const t=a.split(",").map((t=>{const n=t.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(n){const t=n[1],a=(parseInt(n[2],10),n[3]?"_".concat(n[3]):"");if(t===c.name&&(c.venue?n[3]===c.venue.replace(/ /g,"_"):!n[3]))return"".concat(t).concat(e).concat(a)}return t})).join(",");i("cartitems",t)}}})(c),disabled:1===n.quantity,children:"-"}),(0,a.jsx)("input",{type:"text",value:n.quantity,readOnly:!0}),(0,a.jsx)("button",{className:"increase-button",onClick:()=>(n=>{const c=e[n],a=c.quantity+1;t((e=>{const t=[...e];return t[n].quantity=a,t}));const o=s("cartitems");if(o){const e=o.split(",").map((e=>{const t=e.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(t){const e=t[1],n=(parseInt(t[2],10),t[3]?"_".concat(t[3]):"");if(e===c.name&&(c.venue?t[3]===c.venue.replace(/ /g,"_"):!t[3]))return"".concat(e).concat(a).concat(n)}return e})).join(",");i("cartitems",e)}})(c),children:"+"})]})]})]},c)))})})})}}}]);