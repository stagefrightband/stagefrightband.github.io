"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[184],{184:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(169),i=a(968),r=(a(252),a(813));function t(e){let{cookieName:s,className:a}=e;"true"===function(e){var s;const a="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===a.length&&(null===(s=a.pop())||void 0===s?void 0:s.split(";").shift())||null}(s)?document.documentElement.classList.add(a):document.documentElement.classList.remove(a)}const l=()=>{const[e,s]=(0,n.useState)(null),[a,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),m="https://cuxsndvcavwlffvywmfo.supabase.co",p="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN1eHNuZHZjYXZ3bGZmdnl3bWZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE4NzcwNDYsImV4cCI6MjA0NzQ1MzA0Nn0.UKmCIXv_qSKfeodEUQOVtgVU4pf9aHFMX1ygcV7NMYA";const h=(0,i.UU)(m,p);(0,n.useEffect)((()=>{t({cookieName:"highcontrast",className:"high-contrast"}),t({cookieName:"opendyslexic",className:"open-dyslexic"}),h.auth.getSession().then((e=>{let{data:{session:a}}=e;s(a)}));const{data:{subscription:e}}=h.auth.onAuthStateChange(((e,a)=>{s(a)}));return()=>e.unsubscribe()}),[]);return e?(0,r.jsx)("div",{children:"Logged in!"}):(0,r.jsxs)("div",{className:"auth-container",children:[(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsx)("h2",{children:"Login"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=e.currentTarget,n=a.email.value,i=a.password.value,{error:r,data:t}=await h.auth.signInWithPassword({email:n,password:i});r?(console.error(r),c(!0)):s(t.session)},children:[(0,r.jsxs)("div",{className:"booking-field",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",autoComplete:"email",required:!0})]}),(0,r.jsxs)("div",{className:"booking-field",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",autoComplete:"current-password",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"submit-button",children:"Login"})]}),(0,r.jsxs)("p",{children:["Don't have an account?"," ",(0,r.jsx)("button",{className:"sign-up-button",onClick:()=>l(!0),children:"Sign Up"})]})]}),a&&(0,r.jsx)("div",{className:"signup-overlay",children:(0,r.jsxs)("div",{className:"signup-container",children:[(0,r.jsx)("h2",{children:"Sign Up"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=e.currentTarget,n=a.email.value,i=a.password.value,{error:r,data:t}=await h.auth.signUp({email:n,password:i});r?(console.error(r),u(!0)):s(t.session)},children:[(0,r.jsxs)("div",{className:"booking-field",children:[(0,r.jsx)("label",{htmlFor:"signup-email",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"signup-email",name:"email",autoComplete:"email",required:!0})]}),(0,r.jsxs)("div",{className:"booking-field",children:[(0,r.jsx)("label",{htmlFor:"signup-password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"signup-password",name:"password",autoComplete:"new-password",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"submit-button",children:"Sign Up"})]}),(0,r.jsx)("button",{className:"back-button",onClick:()=>l(!1),children:"Back to Login"})]})}),o&&(0,r.jsx)("div",{className:"error-overlay",children:(0,r.jsxs)("div",{className:"error-popup",children:[(0,r.jsx)("h2",{children:"Error!"}),(0,r.jsx)("p",{children:"There was an unexpected error when logging in. Please try again."}),(0,r.jsx)("button",{onClick:()=>{c(!1)},children:"Ok"})]})}),d&&(0,r.jsx)("div",{className:"error-overlay",children:(0,r.jsxs)("div",{className:"error-popup",children:[(0,r.jsx)("h2",{children:"Error!"}),(0,r.jsx)("p",{children:"There was an unexpected error when signing up. Please try again."}),(0,r.jsx)("button",{onClick:()=>{u(!1)},children:"Ok"})]})})]})}}}]);