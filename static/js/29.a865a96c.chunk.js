"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[29],{29:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var c=a(169),n=(a(252),a(813));const s=e=>{var t;const a="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===a.length?decodeURIComponent((null===(t=a.pop())||void 0===t?void 0:t.split(";").shift())||""):null},i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;const c=new Date(Date.now()+864e5*a).toUTCString();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(c,"; path=/")},o=()=>{const[e,t]=(0,c.useState)([]),a=["Merch","Music","Tickets","S-Gate","CD: S-Gate"];(0,c.useEffect)((()=>{const e=s("cartitems");if(e&&"null"!==e){const c=e.split(","),n={};c.forEach((e=>{const t=e.match(/^([A-Za-z' _,-]+)(\d+)(?:_([A-Za-z' _,-]+))?$/);if(t){const e=t[1],a=parseInt(t[2],10),c=t[3]?t[3].replace(/_/g," "):void 0;let s,i;"tickets"===e.toLowerCase()?s=c:"merch"===e.toLowerCase()&&(i=c);const o=s?"".concat(e,"_").concat(s):i?"".concat(e,"_").concat(i):e;n[o]?n[o].quantity+=a:n[o]={name:e,quantity:a,venue:s,size:i}}}));const s=Object.values(n).map((e=>({name:e.name.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("-"),quantity:e.quantity,venue:e.venue,size:e.size}))).filter((e=>a.includes(e.name)));t(s)}}),[]);return(0,n.jsx)("div",{children:(0,n.jsx)("div",{id:"cart-content",children:0===e.length?(0,n.jsx)("p",{className:"empty-cart-message",children:"You have no items in your cart."}):(0,n.jsx)("div",{className:"cart-items",children:e.map(((a,c)=>(0,n.jsxs)("div",{className:"cart-item",children:[(0,n.jsx)("img",{src:"merch"===a.name.toLowerCase()?"/Images/stagefrightmerch.webp":"tickets"===a.name.toLowerCase()?"/Images/ticket.webp":"s-gate"===a.name.toLowerCase()?"/Images/albumcover.webp":"digital s-gate"===a.name.toLowerCase()?"/Images/digitalsgate.webp":"cd: s-gate"===a.name.toLowerCase()?"/Images/cdgatesgate.webp":"",alt:"".concat(a.name," Image"),className:"cart-item-image"}),(0,n.jsxs)("div",{className:"cart-item-details",children:[(0,n.jsx)("span",{className:"item-name",children:a.name}),a.venue&&(0,n.jsx)("span",{className:"item-venue",children:a.venue}),a.size&&(0,n.jsxs)("span",{className:"item-size",children:["Size: ",a.size]}),(0,n.jsxs)("div",{className:"quantity-controls",children:[(0,n.jsx)("button",{className:"decrease-button",onClick:()=>(a=>{const c=e[a];if(c.quantity>1){const e=c.quantity-1;t((t=>{const c=[...t];return c[a].quantity=e,c}));const n=s("cartitems");if(n){const t="".concat(c.name).concat(c.quantity)+(c.size?"_".concat(c.size.replace(/ /g,"_")):"")+(c.venue?"_".concat(c.venue.replace(/ /g,"_")):""),a=n.split(",").map((a=>a===t?"".concat(c.name).concat(e)+(c.size?"_".concat(c.size.replace(/ /g,"_")):"")+(c.venue?"_".concat(c.venue.replace(/ /g,"_")):""):a)).join(",");i("cartitems",a)}}})(c),disabled:1===a.quantity,children:"-"}),(0,n.jsx)("input",{type:"text",id:"quantity-".concat(c),name:"quantity-".concat(c),value:a.quantity,readOnly:!0}),(0,n.jsx)("button",{className:"increase-button",onClick:()=>(a=>{const c=e[a],n=c.quantity+1;t((e=>{const t=[...e];return t[a].quantity=n,t}));const o=s("cartitems");if(o){const e="".concat(c.name).concat(c.quantity)+(c.size?"_".concat(c.size.replace(/ /g,"_")):"")+(c.venue?"_".concat(c.venue.replace(/ /g,"_")):""),t=o.split(",").map((t=>t===e?"".concat(c.name).concat(n)+(c.size?"_".concat(c.size.replace(/ /g,"_")):"")+(c.venue?"_".concat(c.venue.replace(/ /g,"_")):""):t)).join(",");i("cartitems",t)}})(c),children:"+"}),(0,n.jsx)("button",{className:"delete-button",onClick:()=>(a=>{const c=e[a];t((e=>e.filter(((e,t)=>t!==a))));const n=s("cartitems");if(n){const e="".concat(c.name).concat(c.quantity)+(c.size?"_".concat(c.size.replace(/ /g,"_")):"")+(c.venue?"_".concat(c.venue.replace(/ /g,"_")):""),t=n.split(",").filter((t=>t!==e)).join(",");i("cartitems",t)}})(c),children:"Delete"})]})]})]},c)))})})})}}}]);