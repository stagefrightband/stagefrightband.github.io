"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[29],{29:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var c=n(169),a=(n(252),n(813));const s=t=>{var e;const n="; ".concat(document.cookie).split("; ".concat(t,"="));return 2===n.length?decodeURIComponent((null===(e=n.pop())||void 0===e?void 0:e.split(";").shift())||""):null},i=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;const c=new Date(Date.now()+864e5*n).toUTCString();document.cookie="".concat(t,"=").concat(encodeURIComponent(e),"; expires=").concat(c,"; path=/")},o=()=>{const[t,e]=(0,c.useState)([]),n=["Merch","Music","Tickets"];(0,c.useEffect)((()=>{const t=s("cartitems");if(t&&"null"!==t){const c=t.split(","),a={};c.forEach((t=>{const e=t.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(e){const t=e[1],n=parseInt(e[2],10),c=e[3]?e[3].replace(/_/g," "):void 0,s=c?"".concat(t,"_").concat(c):t;a[s]?a[s].quantity+=n:a[s]={quantity:n,venue:c}}}));const s=Object.entries(a).map((t=>{let[e,n]=t;const[c,a]=e.split("_");return{name:c.charAt(0).toUpperCase()+c.slice(1).toLowerCase(),quantity:n.quantity,venue:a}})).filter((t=>n.includes(t.name)));e(s)}}),[]);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{id:"cart-content",children:0===t.length?(0,a.jsx)("p",{children:"You have no items in your cart."}):(0,a.jsx)("div",{className:"cart-items",children:t.map(((n,c)=>(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsx)("img",{src:"merch"===n.name.toLowerCase()?"/Images/stagefrightmerch.webp":"tickets"===n.name.toLowerCase()?"/Images/ticket.webp":"",alt:"".concat(n.name," Image"),className:"cart-item-image"}),(0,a.jsxs)("div",{className:"cart-item-details",children:[(0,a.jsx)("span",{className:"item-name",children:n.name}),n.venue&&(0,a.jsx)("span",{className:"item-venue",children:n.venue}),(0,a.jsxs)("div",{className:"quantity-controls",children:[(0,a.jsx)("button",{className:"decrease-button",onClick:()=>(n=>{const c=t[n];if(c.quantity>1){const t=c.quantity-1;e((e=>{const c=[...e];return c[n].quantity=t,c}));const a=s("cartitems");if(a){const e=a.split(",").map((e=>{const n=e.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(n){const e=n[1],a=(parseInt(n[2],10),n[3]?"_".concat(n[3]):"");if(e===c.name&&(c.venue?n[3]===c.venue.replace(/ /g,"_"):!n[3]))return"".concat(e).concat(t).concat(a)}return e})).join(",");i("cartitems",e)}}})(c),disabled:1===n.quantity,children:"-"}),(0,a.jsx)("input",{type:"text",value:n.quantity,readOnly:!0}),(0,a.jsx)("button",{className:"increase-button",onClick:()=>(n=>{const c=t[n],a=c.quantity+1;e((t=>{const e=[...t];return e[n].quantity=a,e}));const o=s("cartitems");if(o){const t=o.split(",").map((t=>{const e=t.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(e){const t=e[1],n=(parseInt(e[2],10),e[3]?"_".concat(e[3]):"");if(t===c.name&&(c.venue?e[3]===c.venue.replace(/ /g,"_"):!e[3]))return"".concat(t).concat(a).concat(n)}return t})).join(",");i("cartitems",t)}})(c),children:"+"})]})]})]},c)))})})})}}}]);