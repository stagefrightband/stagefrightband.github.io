"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[29],{29:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(169),c=(n(252),n(813));const s=e=>{var t;const n="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===n.length?decodeURIComponent((null===(t=n.pop())||void 0===t?void 0:t.split(";").shift())||""):null},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;const a=new Date(Date.now()+864e5*n).toUTCString();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(a,"; path=/")},o=()=>{const[e,t]=(0,a.useState)([]),n=["Merch","Music","Tickets"];(0,a.useEffect)((()=>{const e=s("cartitems");if(e&&"null"!==e){const a=e.split(","),c={};a.forEach((e=>{const t=e.match(/^([A-Za-z]+)(\d+)(?:_(.+?))?(?:_([A-Za-z]+))?$/);if(t){const e=t[1],n=parseInt(t[2],10),a=t[3]?t[3].replace(/_/g," "):void 0,s=t[4]?t[4]:void 0,i=s?"".concat(e,"_").concat(s):e;c[i]?c[i].quantity+=n:c[i]={name:e,quantity:n,venue:a,size:s}}}));const s=Object.values(c).map((e=>({name:e.name.charAt(0).toUpperCase()+e.name.slice(1).toLowerCase(),quantity:e.quantity,venue:e.venue,size:e.size}))).filter((e=>n.includes(e.name)));t(s)}}),[]);return(0,c.jsx)("div",{children:(0,c.jsx)("div",{id:"cart-content",children:0===e.length?(0,c.jsx)("p",{className:"empty-cart-message",children:"You have no items in your cart."}):(0,c.jsx)("div",{className:"cart-items",children:e.map(((n,a)=>(0,c.jsxs)("div",{className:"cart-item",children:[(0,c.jsx)("img",{src:"merch"===n.name.toLowerCase()?"/Images/stagefrightmerch.webp":"tickets"===n.name.toLowerCase()?"/Images/ticket.webp":"",alt:"".concat(n.name," Image"),className:"cart-item-image"}),(0,c.jsxs)("div",{className:"cart-item-details",children:[(0,c.jsx)("span",{className:"item-name",children:n.name}),n.venue&&(0,c.jsx)("span",{className:"item-venue",children:n.venue}),n.size&&(0,c.jsxs)("span",{className:"item-size",children:["Size: ",n.size]})," ",(0,c.jsxs)("div",{className:"quantity-controls",children:[(0,c.jsx)("button",{className:"decrease-button",onClick:()=>(n=>{const a=e[n];if(a.quantity>1){const e=a.quantity-1;t((t=>{const a=[...t];return a[n].quantity=e,a}));const c=s("cartitems");if(c){const t=c.split(",").map((t=>{const n=t.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(n){const t=n[1],c=(parseInt(n[2],10),n[3]?"_".concat(n[3]):"");if(t===a.name&&(a.venue?n[3]===a.venue.replace(/ /g,"_"):!n[3]))return"".concat(t).concat(e).concat(c)}return t})).join(",");i("cartitems",t)}}})(a),disabled:1===n.quantity,children:"-"}),(0,c.jsx)("input",{type:"text",value:n.quantity,readOnly:!0}),(0,c.jsx)("button",{className:"increase-button",onClick:()=>(n=>{const a=e[n],c=a.quantity+1;t((e=>{const t=[...e];return t[n].quantity=c,t}));const o=s("cartitems");if(o){const e=o.split(",").map((e=>{const t=e.match(/^([A-Za-z]+)(\d+)(?:_(.+))?$/);if(t){const e=t[1],n=(parseInt(t[2],10),t[3]?"_".concat(t[3]):"");if(e===a.name&&(a.venue?t[3]===a.venue.replace(/ /g,"_"):!t[3]))return"".concat(e).concat(c).concat(n)}return e})).join(",");i("cartitems",e)}})(a),children:"+"})]})]})]},a)))})})})}}}]);