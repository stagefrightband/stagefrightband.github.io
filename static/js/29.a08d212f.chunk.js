"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[29],{29:(e,t,c)=>{c.r(t),c.d(t,{default:()=>o});var n=c(169),a=(c(252),c(813));const s=e=>{var t;const c="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===c.length?decodeURIComponent((null===(t=c.pop())||void 0===t?void 0:t.split(";").shift())||""):null},i=function(e,t){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;const n=new Date(Date.now()+864e5*c).toUTCString();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(n,"; path=/")},o=()=>{const[e,t]=(0,n.useState)([]),c=["Merch","Music","Tickets"];(0,n.useEffect)((()=>{const e=s("cartitems");if(e&&"null"!==e){const n=e.split(","),a={};n.forEach((e=>{const t=e.match(/^([A-Za-z' _,-]+)(\d+)(?:_([A-Za-z' _,-]+))?$/);if(t){const e=t[1],c=parseInt(t[2],10),n=t[3]?t[3].replace(/_/g," "):void 0;let s,i;"tickets"===e.toLowerCase()?s=n:"merch"===e.toLowerCase()&&(i=n);const o=s?"".concat(e,"_").concat(s):i?"".concat(e,"_").concat(i):e;a[o]?a[o].quantity+=c:a[o]={name:e,quantity:c,venue:s,size:i}}}));const s=Object.values(a).map((e=>({name:e.name.charAt(0).toUpperCase()+e.name.slice(1).toLowerCase(),quantity:e.quantity,venue:e.venue,size:e.size}))).filter((e=>c.includes(e.name)));t(s)}}),[]);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{id:"cart-content",children:0===e.length?(0,a.jsx)("p",{className:"empty-cart-message",children:"You have no items in your cart."}):(0,a.jsx)("div",{className:"cart-items",children:e.map(((c,n)=>(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsx)("img",{src:"merch"===c.name.toLowerCase()?"/Images/stagefrightmerch.webp":"tickets"===c.name.toLowerCase()?"/Images/ticket.webp":"",alt:"".concat(c.name," Image"),className:"cart-item-image"}),(0,a.jsxs)("div",{className:"cart-item-details",children:[(0,a.jsx)("span",{className:"item-name",children:c.name}),c.venue&&(0,a.jsx)("span",{className:"item-venue",children:c.venue}),c.size&&(0,a.jsxs)("span",{className:"item-size",children:["Size: ",c.size]})," ",(0,a.jsxs)("div",{className:"quantity-controls",children:[(0,a.jsx)("button",{className:"decrease-button",onClick:()=>(c=>{const n=e[c];if(n.quantity>1){const e=n.quantity-1;t((t=>{const n=[...t];return n[c].quantity=e,n}));const a=s("cartitems");if(a){const t="".concat(n.name).concat(n.quantity)+(n.size?"_".concat(n.size.replace(/ /g,"_")):"")+(n.venue?"_".concat(n.venue.replace(/ /g,"_")):""),c=a.split(",").map((c=>c===t?"".concat(n.name).concat(e)+(n.size?"_".concat(n.size.replace(/ /g,"_")):"")+(n.venue?"_".concat(n.venue.replace(/ /g,"_")):""):c)).join(",");i("cartitems",c)}}})(n),disabled:1===c.quantity,children:"-"}),(0,a.jsx)("input",{type:"text",value:c.quantity,readOnly:!0}),(0,a.jsx)("button",{className:"increase-button",onClick:()=>(c=>{const n=e[c],a=n.quantity+1;t((e=>{const t=[...e];return t[c].quantity=a,t}));const o=s("cartitems");if(o){const e="".concat(n.name).concat(n.quantity)+(n.size?"_".concat(n.size.replace(/ /g,"_")):"")+(n.venue?"_".concat(n.venue.replace(/ /g,"_")):""),t=o.split(",").map((t=>t===e?"".concat(n.name).concat(a)+(n.size?"_".concat(n.size.replace(/ /g,"_")):"")+(n.venue?"_".concat(n.venue.replace(/ /g,"_")):""):t)).join(",");i("cartitems",t)}})(n),children:"+"}),(0,a.jsx)("button",{className:"delete-button",onClick:()=>(c=>{const n=e[c];t((e=>e.filter(((e,t)=>t!==c))));const a=s("cartitems");if(a){const e="".concat(n.name).concat(n.quantity)+(n.size?"_".concat(n.size.replace(/ /g,"_")):"")+(n.venue?"_".concat(n.venue.replace(/ /g,"_")):""),t=a.split(",").filter((t=>t!==e)).join(",");i("cartitems",t)}})(n),children:"Delete"})," "]})]})]},n)))})})})}}}]);